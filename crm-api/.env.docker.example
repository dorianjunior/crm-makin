# ==============================================================================
# Docker Environment Configuration
# ==============================================================================
# Copy this file to .env and customize for your environment
# Never commit .env to version control - it contains sensitive credentials
# ==============================================================================

# ------------------------------------------------------------------------------
# Application Settings
# ------------------------------------------------------------------------------
APP_NAME="CRM Makin"
APP_ENV=local
APP_KEY=
APP_DEBUG=true
APP_URL=http://localhost:8000
APP_TIMEZONE="America/Sao_Paulo"
APP_LOCALE=pt_BR

# ------------------------------------------------------------------------------
# Docker Port Mappings
# ------------------------------------------------------------------------------
APP_PORT=8000
VITE_PORT=5173

# Development Tools Ports
PHPMYADMIN_PORT=8080
REDIS_COMMANDER_PORT=8081
MAILHOG_WEB_PORT=8025
MAILHOG_SMTP_PORT=1025

# ------------------------------------------------------------------------------
# Database Configuration (MariaDB)
# ------------------------------------------------------------------------------
DB_CONNECTION=mysql
DB_HOST=db
DB_PORT=3306
DB_DATABASE=crm_makin
DB_USERNAME=crm_user
DB_PASSWORD=crm_password_change_me
DB_ROOT_PASSWORD=root_password_change_me

# Database Configuration Options
DB_CHARSET=utf8mb4
DB_COLLATION=utf8mb4_unicode_ci
DB_PREFIX=
DB_STRICT_MODE=true
DB_ENGINE=InnoDB

# ------------------------------------------------------------------------------
# Redis Configuration
# ------------------------------------------------------------------------------
REDIS_HOST=redis
REDIS_PASSWORD=redis_password_change_me
REDIS_PORT=6379
REDIS_DB=0
REDIS_CACHE_DB=1
REDIS_PREFIX=crm_makin_

# Redis for Cache
CACHE_DRIVER=redis
CACHE_PREFIX=cache_

# Redis for Sessions
SESSION_DRIVER=redis
SESSION_LIFETIME=120
SESSION_ENCRYPT=false
SESSION_PATH=/
SESSION_DOMAIN=null

# Redis for Queues
QUEUE_CONNECTION=redis

# ------------------------------------------------------------------------------
# Mail Configuration (Development)
# ------------------------------------------------------------------------------
MAIL_MAILER=smtp
MAIL_HOST=mailhog
MAIL_PORT=1025
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_ENCRYPTION=null
MAIL_FROM_ADDRESS="noreply@crmmakin.local"
MAIL_FROM_NAME="${APP_NAME}"

# Production Mail Settings (commented out for development)
# MAIL_MAILER=smtp
# MAIL_HOST=smtp.mailtrap.io
# MAIL_PORT=2525
# MAIL_USERNAME=your_username
# MAIL_PASSWORD=your_password
# MAIL_ENCRYPTION=tls

# ------------------------------------------------------------------------------
# Sanctum (API Authentication)
# ------------------------------------------------------------------------------
SANCTUM_STATEFUL_DOMAINS=localhost,localhost:8000,127.0.0.1,127.0.0.1:8000,::1

# ------------------------------------------------------------------------------
# CORS Configuration
# ------------------------------------------------------------------------------
CORS_ALLOWED_ORIGINS=http://localhost:8000,http://localhost:3000,http://127.0.0.1:8000
CORS_ALLOWED_METHODS=*
CORS_ALLOWED_HEADERS=*
CORS_EXPOSED_HEADERS=
CORS_MAX_AGE=0
CORS_SUPPORTS_CREDENTIALS=true

# ------------------------------------------------------------------------------
# File Storage
# ------------------------------------------------------------------------------
FILESYSTEM_DISK=local
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=
AWS_USE_PATH_STYLE_ENDPOINT=false

# ------------------------------------------------------------------------------
# Logging
# ------------------------------------------------------------------------------
LOG_CHANNEL=stack
LOG_STACK=single
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=debug

# ------------------------------------------------------------------------------
# Broadcasting
# ------------------------------------------------------------------------------
BROADCAST_DRIVER=log
PUSHER_APP_ID=
PUSHER_APP_KEY=
PUSHER_APP_SECRET=
PUSHER_HOST=
PUSHER_PORT=443
PUSHER_SCHEME=https
PUSHER_APP_CLUSTER=mt1

# ------------------------------------------------------------------------------
# Third-Party API Keys
# ------------------------------------------------------------------------------

# Google Gemini AI
GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_MODEL=gemini-pro
GEMINI_TEMPERATURE=0.7
GEMINI_MAX_TOKENS=1024

# Meta (Facebook/Instagram/WhatsApp)
META_APP_ID=your_meta_app_id
META_APP_SECRET=your_meta_app_secret
META_ACCESS_TOKEN=your_long_lived_access_token

# WhatsApp Business API
WHATSAPP_PHONE_NUMBER_ID=your_phone_number_id
WHATSAPP_BUSINESS_ACCOUNT_ID=your_business_account_id
WHATSAPP_WEBHOOK_VERIFY_TOKEN=your_custom_verify_token_change_me

# Instagram Business
INSTAGRAM_BUSINESS_ACCOUNT_ID=your_instagram_business_account_id

# ------------------------------------------------------------------------------
# Feature Flags
# ------------------------------------------------------------------------------
FEATURE_ENABLE_AI_RESPONSES=true
FEATURE_ENABLE_INSTAGRAM_SYNC=true
FEATURE_ENABLE_WHATSAPP_INTEGRATION=true
FEATURE_ENABLE_CMS=true
FEATURE_ENABLE_PUBLISHING_QUEUE=true

# ------------------------------------------------------------------------------
# AI Configuration
# ------------------------------------------------------------------------------
AI_DEFAULT_TEMPERATURE=0.7
AI_DEFAULT_MAX_TOKENS=1024
AI_CONTEXT_WINDOW_SIZE=10
AI_RESPONSE_TIMEOUT=30
AI_ENABLE_LEARNING=true

# ------------------------------------------------------------------------------
# Social Media Sync Configuration
# ------------------------------------------------------------------------------
INSTAGRAM_SYNC_INTERVAL=5
INSTAGRAM_SYNC_ENABLED=true
INSTAGRAM_BACKFILL_DAYS=7

WHATSAPP_WEBHOOK_RETRY_ATTEMPTS=3
WHATSAPP_MESSAGE_TIMEOUT=60

# ------------------------------------------------------------------------------
# CMS Configuration
# ------------------------------------------------------------------------------
CMS_ENABLE_VERSIONING=true
CMS_MAX_VERSIONS_PER_CONTENT=20
CMS_AUTO_PUBLISH=false
CMS_ALLOWED_CONTENT_TYPES=page,blog_post,product,service,testimonial,faq,team_member,portfolio,event,location

# ------------------------------------------------------------------------------
# Queue Configuration
# ------------------------------------------------------------------------------
QUEUE_RETRY_AFTER=90
QUEUE_MAX_ATTEMPTS=3
QUEUE_TIMEOUT=60

# Queue Priorities
QUEUE_HIGH_PRIORITY=high
QUEUE_DEFAULT_PRIORITY=default
QUEUE_LOW_PRIORITY=low

# ------------------------------------------------------------------------------
# Rate Limiting
# ------------------------------------------------------------------------------
RATE_LIMIT_API=60
RATE_LIMIT_LOGIN=5
RATE_LIMIT_REGISTER=3

# ------------------------------------------------------------------------------
# Security
# ------------------------------------------------------------------------------
BCRYPT_ROUNDS=10
PASSWORD_TIMEOUT=10800

# ------------------------------------------------------------------------------
# Development/Debugging (NEVER enable in production)
# ------------------------------------------------------------------------------
DEBUGBAR_ENABLED=true
TELESCOPE_ENABLED=true
XDEBUG_MODE=off
XDEBUG_CLIENT_HOST=host.docker.internal
XDEBUG_CLIENT_PORT=9003

# ------------------------------------------------------------------------------
# Docker Resource Limits
# ------------------------------------------------------------------------------
# Uncomment and adjust based on your system resources
# DOCKER_APP_CPU_LIMIT=1.0
# DOCKER_APP_MEM_LIMIT=512M
# DOCKER_QUEUE_CPU_LIMIT=0.5
# DOCKER_QUEUE_MEM_LIMIT=256M
# DOCKER_DB_CPU_LIMIT=2.0
# DOCKER_DB_MEM_LIMIT=1G
# DOCKER_REDIS_CPU_LIMIT=0.5
# DOCKER_REDIS_MEM_LIMIT=256M

# ------------------------------------------------------------------------------
# Backup Configuration
# ------------------------------------------------------------------------------
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=7
BACKUP_DISK=local

# ==============================================================================
# Security Reminders
# ==============================================================================
# 1. Change ALL default passwords above
# 2. Generate APP_KEY with: php artisan key:generate
# 3. Never commit .env to version control
# 4. Use strong passwords (min 16 characters, mixed case, numbers, symbols)
# 5. Rotate API keys and tokens regularly
# 6. In production, set APP_DEBUG=false and APP_ENV=production
# ==============================================================================
